<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Nextcloud Talk Adapter</title>
    <script type="text/javascript" src="../../lib/js/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="../../lib/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="../../lib/js/translate.js"></script>
    <script type="text/javascript" src="../../lib/js/adapter-settings.js"></script>
</head>
<body>
    <table>
        <tr><td>Server URL:</td><td><input id="server" type="text" size="50"></td></tr>
        <tr><td>Username:</td><td><input id="username" type="text" size="20"></td></tr>
        <tr><td>App Token:</td><td><input id="token" type="text" size="40"></td></tr>
    </table>
    <script type="text/javascript">
        function load(settings, onChange) {
            if (!settings) return;
            $('#server').val(settings.server).on('change', () => onChange());
            $('#username').val(settings.username).on('change', () => onChange());
            $('#token').val(settings.token).on('change', () => onChange());
            onChange(false);
        }

        function save(callback) {
            callback({
                server:   $('#server').val(),
                username: $('#username').val(),
                token:    $('#token').val()
            });
        }
    </script>
</body>
</html>
